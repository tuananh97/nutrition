<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Ph√¢n T√≠ch Dinh D∆∞·ª°ng - BN Nam 28T PEG</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            background: rgba(0,0,0,0.2);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .stat-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .stat-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .stat-label {
            color: #666;
            font-size: 0.95em;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-unit {
            font-size: 0.9em;
            color: #999;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
        }

        .chart-wrapper {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .chart-wrapper h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.4em;
            text-align: center;
        }

        .small-chart-container {
            position: relative;
            height: 300px;
            margin: 0 auto;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 1024px) {
            .two-column {
                grid-template-columns: 1fr;
            }
        }

        .analysis-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .analysis-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.6em;
            border-left: 5px solid #667eea;
            padding-left: 15px;
        }

        .analysis-section h3 {
            color: #764ba2;
            margin-top: 20px;
            margin-bottom: 12px;
            font-size: 1.2em;
        }

        .analysis-section p {
            margin-bottom: 12px;
            color: #555;
            line-height: 1.8;
        }

        .finding-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 12px 0;
            border-radius: 5px;
        }

        .finding-box.warning {
            border-left-color: #ffc107;
            background: #fff8e1;
        }

        .finding-box.success {
            border-left-color: #28a745;
            background: #e8f5e9;
        }

        .finding-box.danger {
            border-left-color: #dc3545;
            background: #ffebee;
        }

        .finding-box ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        .finding-box li {
            margin-bottom: 8px;
        }

        .recommendation-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .recommendation-box h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .recommendation-box ul {
            margin-left: 20px;
            color: #555;
        }

        .recommendation-box li {
            margin-bottom: 10px;
            line-height: 1.7;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .highlight-box h3 {
            color: white;
            margin-bottom: 10px;
        }

        .highlight-box ul {
            margin-left: 20px;
        }

        .highlight-box li {
            margin-bottom: 10px;
        }

        .nutrient-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .nutrient-table th {
            background-color: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .nutrient-table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }

        .nutrient-table tr:hover {
            background-color: #f8f9fa;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 50px;
            padding: 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-good {
            background-color: #28a745;
        }

        .status-warning {
            background-color: #ffc107;
        }

        .status-poor {
            background-color: #dc3545;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä DASHBOARD PH√ÇN T√çCH DINH D∆Ø·ª†NG</h1>
            <p>B·ªánh nh√¢n nam 28 tu·ªïi, 45kg, 165cm - ƒÇn qua sond PEG</p>
            <p>Th·ªùi k·ª≥: 01/10/2025 - 31/10/2025 (31 ng√†y)</p>
        </header>

        <!-- Patient Overview -->
        <div class="grid-container">
            <div class="card">
                <h3>üë§ Th√¥ng Tin B·ªánh Nh√¢n</h3>
                <div class="stat-item">
                    <div class="stat-label">Tu·ªïi</div>
                    <div class="stat-value">28 <span class="stat-unit">tu·ªïi</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">C√¢n n·∫∑ng</div>
                    <div class="stat-value">45 <span class="stat-unit">kg</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Chi·ªÅu cao</div>
                    <div class="stat-value">165 <span class="stat-unit">cm</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ch·ªâ s·ªë BMI</div>
                    <div class="stat-value" style="color: #ffc107;">16.53 <span class="stat-unit">kg/m¬≤</span></div>
                    <div style="color: #ffc107; font-size: 0.95em; margin-top: 5px;">‚ö†Ô∏è Thi·∫øu c√¢n n·∫∑ng</div>
                </div>
            </div>

            <div class="card">
                <h3>üéØ M·ª•c Ti√™u H√†ng Ng√†y</h3>
                <div class="stat-item">
                    <div class="stat-label">T·ªïng NƒÉng L∆∞·ª£ng</div>
                    <div class="stat-value">1700 <span class="stat-unit">kcal</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Protein</div>
                    <div class="stat-value">75 <span class="stat-unit">g</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ch·∫•t B√©o</div>
                    <div class="stat-value">65 <span class="stat-unit">g</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Carbohydrate</div>
                    <div class="stat-value">190 <span class="stat-unit">g</span></div>
                </div>
            </div>

            <div class="card">
                <h3>üìà Th·ª±c T·∫ø Th√°ng 10</h3>
                <div class="stat-item">
                    <div class="stat-label">Trung B√¨nh NƒÉng L∆∞·ª£ng</div>
                    <div class="stat-value" style="color: #dc3545;">1865.9 <span class="stat-unit">kcal</span></div>
                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">+165.9 kcal (+9.8%)</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Trung B√¨nh Protein</div>
                    <div class="stat-value" style="color: #28a745;">88.2 <span class="stat-unit">g</span></div>
                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">+13.2 g (+17.6%)</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Bi·∫øn ƒê·ªông NƒÉng L∆∞·ª£ng</div>
                    <div class="stat-value">262.1 <span class="stat-unit">kcal</span></div>
                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Min: 1742.9 - Max: 2005.0</div>
                </div>
            </div>
        </div>

        <!-- Main Charts -->
        <div class="chart-wrapper">
            <h2>üìâ NƒÉng L∆∞·ª£ng H√†ng Ng√†y vs M·ª•c Ti√™u</h2>
            <div class="chart-container">
                <canvas id="energyChart"></canvas>
            </div>
        </div>

        <div class="two-column">
            <div class="chart-wrapper">
                <h2>ü•ó T·ª∑ L·ªá Dinh D∆∞·ª°ng (Th·ª±c T·∫ø)</h2>
                <div class="small-chart-container">
                    <canvas id="macroChartActual"></canvas>
                </div>
            </div>
            <div class="chart-wrapper">
                <h2>üéØ T·ª∑ L·ªá Dinh D∆∞·ª°ng (M·ª•c Ti√™u)</h2>
                <div class="small-chart-container">
                    <canvas id="macroChartGoal"></canvas>
                </div>
            </div>
        </div>

        <div class="two-column">
            <div class="chart-wrapper">
                <h2>üí™ Protein H√†ng Ng√†y</h2>
                <div class="chart-container">
                    <canvas id="proteinChart"></canvas>
                </div>
            </div>
            <div class="chart-wrapper">
                <h2>üßà Ch·∫•t B√©o H√†ng Ng√†y</h2>
                <div class="chart-container">
                    <canvas id="fatChart"></canvas>
                </div>
            </div>
        </div>

        <div class="chart-wrapper">
            <h2>üåæ Carbohydrate & Ch·∫•t X∆°</h2>
            <div class="chart-container">
                <canvas id="carbsChart"></canvas>
            </div>
        </div>

        <!-- Quality Days Analysis -->
        <div class="grid-container">
            <div class="card">
                <h3>üìä Ph√¢n Lo·∫°i C√°c Ng√†y</h3>
                <div class="stat-item">
                    <div class="stat-label">
                        <span class="status-indicator status-good"></span>
                        C√°c ng√†y b√¨nh th∆∞·ªùng (¬±10%)
                    </div>
                    <div class="stat-value" style="color: #28a745;">18 ng√†y</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">
                        <span class="status-indicator status-warning"></span>
                        C√°c ng√†y v∆∞·ª£t m·ª•c ti√™u (>110%)
                    </div>
                    <div class="stat-value" style="color: #ffc107;">13 ng√†y</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">
                        <span class="status-indicator status-poor"></span>
                        C√°c ng√†y th·∫•p h∆°n (<90%)
                    </div>
                    <div class="stat-value" style="color: #dc3545;">0 ng√†y</div>
                </div>
            </div>

            <div class="card">
                <h3>‚≠ê Ng√†y T·ªët Nh·∫•t & T·ªá Nh·∫•t</h3>
                <div class="stat-item" style="background: #e8f5e9; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                    <div class="stat-label">‚úÖ Ng√†y T·ªët Nh·∫•t</div>
                    <div class="stat-value" style="color: #28a745; font-size: 1.3em;">11/10</div>
                    <div style="font-size: 0.9em; color: #555; margin-top: 8px;">
                        NƒÉng l∆∞·ª£ng: <strong>2005.0 kcal</strong>
                    </div>
                </div>
                <div class="stat-item" style="background: #ffebee; padding: 10px; border-radius: 5px;">
                    <div class="stat-label">‚ö†Ô∏è Ng√†y T·ªá Nh·∫•t</div>
                    <div class="stat-value" style="color: #dc3545; font-size: 1.3em;">02/10</div>
                    <div style="font-size: 0.9em; color: #555; margin-top: 8px;">
                        NƒÉng l∆∞·ª£ng: <strong>1742.9 kcal</strong>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üìä Ch·∫•t X∆° H√†ng Ng√†y</h3>
                <div class="stat-item">
                    <div class="stat-label">L∆∞·ª£ng Trung B√¨nh</div>
                    <div class="stat-value">29.8 <span class="stat-unit">g</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">M·ª•c Ti√™u</div>
                    <div class="stat-value">25 <span class="stat-unit">g</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Ch√™nh L·ªách</div>
                    <div class="stat-value" style="color: #28a745;">+4.8 <span class="stat-unit">g</span></div>
                </div>
            </div>
        </div>

        <!-- Detailed Analysis -->
        <div class="analysis-section">
            <h2>üìã 1. ƒê√ÅNH GI√Å T·ªîNG H·ª¢P T√åNH TR·∫†NG DINH D∆Ø·ª†NG</h2>

            <h3>C√¢n N·∫∑ng & Ch·ªâ S·ªë BMI</h3>
            <div class="finding-box warning">
                <strong>‚ö†Ô∏è T√¨nh Tr·∫°ng THI·∫æU C√ÇN N·∫∂NG</strong><br>
                BMI hi·ªán t·∫°i: 16.53 kg/m¬≤ (< 18.5 = Thi·∫øu c√¢n)<br>
                C√¢n n·∫∑ng hi·ªán t·∫°i: 45 kg<br>
                C√¢n n·∫∑ng l√Ω t∆∞·ªüng theo chi·ªÅu cao 165cm: 49.5 - 59.4 kg<br>
                <strong>‚ûú Thi·∫øu: 4.5 - 14.4 kg</strong>
            </div>

            <h3>M·ª©c ƒê·ªô Suy Dinh D∆∞·ª°ng</h3>
            <p>
                B·ªánh nh√¢n ·ªü <strong>m·ª©c suy dinh d∆∞·ª°ng nh·∫π ƒë·∫øn trung b√¨nh</strong>. M·∫∑c d√π l∆∞·ª£ng calo h√†ng ng√†y v∆∞·ª£t m·ª•c ti√™u 
                (+9.8%), nh∆∞ng c√¢n n·∫∑ng th·ª±c t·∫ø v·∫´n th·∫•p h∆°n chu·∫©n. Nguy√™n nh√¢n c√≥ th·ªÉ l√†:
            </p>
            <ul style="margin-left: 20px; margin-bottom: 15px;">
                <li>T·ªïn th·∫•t nƒÉng l∆∞·ª£ng qua ƒë∆∞·ªùng sond PEG</li>
                <li>Qu√° tr√¨nh h·∫•p th·ª• kh√¥ng ho√†n to√†n qua ƒë∆∞·ªùng d·∫° d√†y</li>
                <li>Nhu c·∫ßu nƒÉng l∆∞·ª£ng c∆° b·∫£n cao h∆°n d·ª± ki·∫øn</li>
                <li>Th·ªùi gian theo d√µi c√≤n ng·∫Øn (1 th√°ng)</li>
            </ul>

            <h3>Nguy C∆° Ng·∫Øn H·∫°n</h3>
            <div class="finding-box danger">
                <strong>Nguy C∆° Cao:</strong><br>
                ‚úì <strong>M·ªát M·ªèi & Suy Nh∆∞·ª£c</strong>: Suy dinh d∆∞·ª°ng g√¢y gi·∫£m nƒÉng l∆∞·ª£ng, suy ki·ªát c∆° b·∫Øp<br>
                ‚úì <strong>H·ªá Mi·ªÖn D·ªãch Suy Y·∫øu</strong>: Thi·∫øu protein (m·ª•c ti√™u 75g, th·ª±c t·∫ø 88.2g l√† t·ªët nh∆∞ng v·∫´n c·∫ßn duy tr√¨)<br>
                ‚úì <strong>T√°o B√≥n</strong>: M·∫∑c d√π x∆° t·ªët (29.8g > 25g), nh∆∞ng t√≠nh ch·∫•t x∆° c√≥ th·ªÉ kh√¥ng ph√π h·ª£p cho PEG
            </div>

            <h3>Nguy C∆° D√†i H·∫°n</h3>
            <div class="finding-box danger">
                <strong>N·∫øu kh√¥ng can thi·ªáp:</strong><br>
                ‚úì <strong>Lo√£ng X∆∞∆°ng</strong>: Suy dinh d∆∞·ª°ng + Thi·∫øu Calcium (1203.8 mg, g·∫ßn chu·∫©n)<br>
                ‚úì <strong>Thi·∫øu M√°u</strong>: Iron trung b√¨nh 15.6 mg (g·∫ßn chu·∫©n 15mg), nh∆∞ng Vitamin B12, folate c·∫ßn ki·ªÉm tra<br>
                ‚úì <strong>S√∫t C√¢n Th√™m</strong>: N·∫øu protein kh√¥ng ƒë·ªß ho·∫∑c calo ti·∫øp t·ª•c th·∫•p h∆°n d·ª± ki·∫øn
            </div>

            <h2>üìä 2. PH√ÇN T√çCH T·ª∂ L·ªÜ C√ÅC NH√ìM DINH D∆Ø·ª†NG</h2>

            <h3>So S√°nh T·ª∑ L·ªá vs M·ª•c Ti√™u</h3>
            <table class="nutrient-table">
                <thead>
                    <tr>
                        <th>Ch·ªâ Ti√™u</th>
                        <th>M·ª•c Ti√™u</th>
                        <th>Th·ª±c T·∫ø</th>
                        <th>Ch√™nh L·ªách</th>
                        <th>ƒê√°nh Gi√°</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Protein %</strong></td>
                        <td>18.2%</td>
                        <td>18.9%</td>
                        <td>+0.7%</td>
                        <td>‚úÖ R·∫•t T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Ch·∫•t B√©o %</strong></td>
                        <td>35.6%</td>
                        <td>40.8%</td>
                        <td>+5.2%</td>
                        <td>‚ö†Ô∏è Cao h∆°n</td>
                    </tr>
                    <tr>
                        <td><strong>Carbs %</strong></td>
                        <td>46.2%</td>
                        <td>43.7%</td>
                        <td>-2.5%</td>
                        <td>‚úÖ T·ªët</td>
                    </tr>
                </tbody>
            </table>

            <h3>Ph√¢n T√≠ch Chi Ti·∫øt</h3>
            <div class="finding-box success">
                <strong>‚úÖ T·ª∑ L·ªá Protein Ho√†n H·∫£o</strong><br>
                Th·ª±c t·∫ø 18.9% ‚âà M·ª•c ti√™u 18.2%. B·ªánh nh√¢n ƒëang nh·∫≠n ƒë·ªß protein ƒë·ªÉ duy tr√¨ v√† t√°i t·∫°o c√°c m√¥ c∆°.
            </div>

            <div class="finding-box warning">
                <strong>‚ö†Ô∏è Ch·∫•t B√©o Cao H∆°n D·ª± Ki·∫øn</strong><br>
                Th·ª±c t·∫ø 40.8% > M·ª•c ti√™u 35.6% (+5.2%)<br>
                <strong>Nguy√™n nh√¢n:</strong> C√≥ th·ªÉ t·ª´ s·ªØa 230kcal, sinh t·ªë v·ªõi d·∫ßu/b√©o, ch·∫•t b√©o b√£o h√≤a c·∫ßn ki·ªÉm so√°t
            </div>

            <div class="finding-box success">
                <strong>‚úÖ Carbohydrate C√¢n B·∫±ng</strong><br>
                Th·ª±c t·∫ø 43.7% ‚âà M·ª•c ti√™u 46.2%. H·∫° 2.5% l√† h·ª£p l√Ω, gi√∫p ki·ªÉm so√°t calo t·ª´ ƒë∆∞·ªùng ƒë∆°n.
            </div>

            <h2>üå§Ô∏è 3. PH√ÇN T√çCH C√ÅC NG√ÄY M·∫†NH/Y·∫æU</h2>

            <div class="finding-box">
                <strong>üìä Ph√¢n B·ªë Ch·∫•t L∆∞·ª£ng C√°c Ng√†y (31 ng√†y)</strong><br>
                ‚úÖ Ng√†y B√¨nh Th∆∞·ªùng (90-110%): <span style="color: #28a745; font-weight: bold;">18 ng√†y (58%)</span><br>
                ‚ö†Ô∏è Ng√†y Cao (>110%): <span style="color: #ffc107; font-weight: bold;">13 ng√†y (42%)</span><br>
                ‚ùå Ng√†y Th·∫•p (<90%): <span style="color: #dc3545; font-weight: bold;">0 ng√†y (0%)</span>
            </div>

            <h3>Ph√¢n T√≠ch Xu H∆∞·ªõng</h3>
            <p>
                <strong>ƒêi·ªÉm T√≠ch C·ª±c:</strong> Kh√¥ng c√≥ ng√†y n√†o calo qu√° th·∫•p, ·ªïn ƒë·ªãnh cao, nƒÉng l∆∞·ª£ng dao ƒë·ªông t·ª´ 1742.9 - 2005.0 kcal (bi·∫øn ƒë·ªông v·ª´a ph·∫£i)<br>
                <strong>C∆° H·ªôi C·∫£i Thi·ªán:</strong> Duy tr√¨ c√°c ng√†y b√¨nh th∆∞·ªùng nhi·ªÅu h∆°n, gi·∫£m s·ªë ng√†y v∆∞·ª£t m·ª•c ti√™u t·ª´ 42% xu·ªëng ~20-30%
            </p>

            <h2>üíä 4. THEO D√ïI VI CH·∫§T DINH D∆Ø·ª†NG</h2>

            <h3>A. Protein (ƒê·∫°m)</h3>
            <div class="finding-box success">
                <strong>‚úÖ Protein: 88.2g/ng√†y (Th·ª±c T·∫ø) vs 75g (M·ª•c Ti√™u)</strong><br>
                V∆∞·ª£t m·ª•c ti√™u +13.2g (+17.6%) - T·ª∞ V·ªÆA! ƒê·ªß ƒë·ªÉ duy tr√¨ v√† t√°i t·∫°o c∆° b·∫Øp.
            </div>

            <h3>B. Ch·∫•t X∆° (Fiber)</h3>
            <div class="finding-box success">
                <strong>‚úÖ X∆°: 29.8g/ng√†y (Th·ª±c T·∫ø) vs 25g (M·ª•c Ti√™u)</strong><br>
                V∆∞·ª£t m·ª•c ti√™u +4.8g (+19%). T·ªët cho ti√™u h√≥a, nh∆∞ng v·ªõi PEG c·∫ßn x√°c b·∫£n l√† x∆° ƒë∆∞·ª£c xay nhuy·ªÖn.
            </div>

            <h3>C. Carbohydrate (Gluxit)</h3>
            <div class="finding-box success">
                <strong>‚úÖ Carbs: 203.8g/ng√†y (Th·ª±c T·∫ø) vs 190g (M·ª•c Ti√™u)</strong><br>
                V∆∞·ª£t m·ª•c ti√™u +13.8g (+7.3%). C√¢n b·∫±ng t·ªët gi·ªØa ƒë∆∞·ªùng ƒë∆°n (48.3g/ng√†y) v√† tinh b·ªôt (63.2g/ng√†y).
            </div>

            <h3>D. Ch·∫•t B√©o (Lipid)</h3>
            <div class="finding-box warning">
                <strong>‚ö†Ô∏è Ch·∫•t B√©o: 84.7g/ng√†y (Th·ª±c T·∫ø) vs 65g (M·ª•c Ti√™u)</strong><br>
                V∆∞·ª£t m·ª•c ti√™u +19.7g (+30.3%) - V·∫§N ƒê·ªÄ! Ch·∫•t b√©o b√£o h√≤a ∆∞·ªõc t√≠nh ~29.6g/ng√†y (>10% calo)<br>
                <strong>Khuy·∫øn C√°o:</strong> Gi·∫£m ch·∫•t b√©o b√£o h√≤a, ∆∞u ti√™n d·∫ßu th·ª±c v·∫≠t v√† c√°. Duy tr√¨ Omega-3 (hi·ªán 3.8g/ng√†y - t·ªët)
            </div>

            <h3>E. Vitamin & Kho√°ng Ch·∫•t - T·ªïng H·ª£p</h3>
            <table class="nutrient-table">
                <thead>
                    <tr>
                        <th>Ch·∫•t Dinh D∆∞·ª°ng</th>
                        <th>Th·ª±c T·∫ø</th>
                        <th>ƒê∆°n V·ªã</th>
                        <th>M·ª•c Ti√™u</th>
                        <th>ƒê√°nh Gi√°</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Vitamin A</strong></td>
                        <td>1184.3</td>
                        <td>¬µg</td>
                        <td>900 (nam)</td>
                        <td>‚úÖ T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Vitamin C</strong></td>
                        <td>192.0</td>
                        <td>mg</td>
                        <td>90</td>
                        <td>‚úÖ R·∫•t T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Vitamin D</strong></td>
                        <td>422.8</td>
                        <td>IU</td>
                        <td>600-800</td>
                        <td>‚ö†Ô∏è H∆°i Th·∫•p</td>
                    </tr>
                    <tr>
                        <td><strong>Vitamin E</strong></td>
                        <td>16.0</td>
                        <td>mg</td>
                        <td>15</td>
                        <td>‚úÖ T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Vitamin K</strong></td>
                        <td>421.2</td>
                        <td>¬µg</td>
                        <td>120</td>
                        <td>‚úÖ R·∫•t T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Calcium</strong></td>
                        <td>1203.8</td>
                        <td>mg</td>
                        <td>1200</td>
                        <td>‚úÖ G·∫ßn ƒê·ªß</td>
                    </tr>
                    <tr>
                        <td><strong>Iron</strong></td>
                        <td>15.6</td>
                        <td>mg</td>
                        <td>15 (nam)</td>
                        <td>‚úÖ T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Zinc</strong></td>
                        <td>12.8</td>
                        <td>mg</td>
                        <td>11</td>
                        <td>‚úÖ T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Magnesium</strong></td>
                        <td>445.3</td>
                        <td>mg</td>
                        <td>400</td>
                        <td>‚úÖ T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Potassium</strong></td>
                        <td>3938.9</td>
                        <td>mg</td>
                        <td>3400-4700</td>
                        <td>‚úÖ T·ªët</td>
                    </tr>
                    <tr>
                        <td><strong>Sodium</strong></td>
                        <td>1491.1</td>
                        <td>mg</td>
                        <td><1500</td>
                        <td>‚ö†Ô∏è S√°t Ng∆∞·ª°ng</td>
                    </tr>
                </tbody>
            </table>

            <h2>üí° 5. KHUY·∫æN NGH·ªä DINH D∆Ø·ª†NG CHI TI·∫æT</h2>

            <h3>A. ƒêi·ªÅu Ch·ªânh NƒÉng L∆∞·ª£ng</h3>
            <div style="background: #f0f4ff; padding: 20px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #667eea;">
                <p><strong>‚úì GI·ªÆ L·∫†I M·ª©c Calo Hi·ªán T·∫°i (1865.9 kcal/ng√†y)</strong></p>
                <p style="margin-top: 10px;">L√Ω do: B·ªánh nh√¢n thi·∫øu c√¢n (BMI 16.53), m·ª•c ti√™u tƒÉng c√¢n 4.5-14.4kg. Th√™m 165.9 kcal/ng√†y = tƒÉng ~0.8-1 kg/th√°ng (h·ª£p l√Ω)</p>
            </div>

            <h3>B. ƒêi·ªÅu Ch·ªânh Protein, Ch·∫•t B√©o, Carbs</h3>

            <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h4 style="color: #28a745; margin-bottom: 15px;">‚úÖ PROTEIN: GI·ªÆ L·∫†I M·ª®C HI·ªÜN T·∫†I (85-95g/ng√†y)</h4>
                <p>ƒê·ªß ƒë·ªÉ t√°i t·∫°o c∆° b·∫Øp, tƒÉng c∆∞·ªùng mi·ªÖn d·ªãch, gi·∫£m m·ªát m·ªèi.</p>
                <p><strong>Ngu·ªìn Protein Ph√π H·ª£p cho PEG:</strong> S·ªØa, s√∫p th·ªãt g√†/c√° xay nhuy·ªÖn, tr·ª©ng, sinh t·ªë ƒë·∫≠u ph·ªông</p>
            </div>

            <div style="background: #fff3e0; padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h4 style="color: #f57c00; margin-bottom: 15px;">‚ö†Ô∏è CH·∫§T B√âO: GI·∫¢M XU·ªêNG (70-75g/ng√†y)</h4>
                <p><strong>C√°ch Gi·∫£m Ch·∫•t B√©o B√£o H√≤a:</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>‚ùå Gi·∫£m s·ªØa nguy√™n kem ‚Üí ‚úÖ D√πng s·ªØa 1-2% b√©o</li>
                    <li>‚ùå Gi·∫£m d·∫ßu m·ª° ƒë·ªông v·∫≠t ‚Üí ‚úÖ D√πng d·∫ßu th·ª±c v·∫≠t</li>
                    <li>‚úÖ Duy tr√¨ Omega-3 (c√° b√©o, h·∫°t lanh)</li>
                </ul>
            </div>

            <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h4 style="color: #1976d2; margin-bottom: 15px;">‚úÖ CARBOHYDRATE: GI·ªÆ L·∫†I (190-210g/ng√†y)</h4>
                <p>Cung c·∫•p nƒÉng l∆∞·ª£ng cho n√£o, h·ªó tr·ª£ ti√™u h√≥a. T·ª∑ l·ªá ƒë∆∞·ªùng ƒë∆°n v·ª´a ph·∫£i (11% calo ‚âà khuy·∫øn c√°o <12%)</p>
            </div>

            <h3>C. Ph√¢n Chia B·ªØa ƒÇn (6 B·ªØa/Ng√†y)</h3>
            <div style="background: #f5f5f5; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #667eea;">
                <table style="width: 100%; margin-top: 15px;">
                    <thead>
                        <tr style="background: #667eea; color: white;">
                            <th style="padding: 12px; text-align: left;">B·ªØa</th>
                            <th style="padding: 12px; text-align: left;">Th·ªùi Gian</th>
                            <th style="padding: 12px; text-align: left;">G·ª£i √ù</th>
                            <th style="padding: 12px; text-align: center;">Kcal</th>
                            <th style="padding: 12px; text-align: center;">Protein (g)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><strong>1. S√°ng</strong> (7-8h)</td>
                            <td style="padding: 12px;">PEG</td>
                            <td style="padding: 12px;">S√∫p g√† xay m·ªãn</td>
                            <td style="padding: 12px; text-align: center;">300</td>
                            <td style="padding: 12px; text-align: center;">15</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><strong>2. Tr∆∞a s·ªõm</strong> (10h)</td>
                            <td style="padding: 12px;">U·ªëng mi·ªáng</td>
                            <td style="padding: 12px;">Sinh t·ªë (s·ªØa + chu·ªëi + b∆° ƒë·∫≠u ph·ªông)</td>
                            <td style="padding: 12px; text-align: center;">280</td>
                            <td style="padding: 12px; text-align: center;">12</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><strong>3. Tr∆∞a</strong> (12h)</td>
                            <td style="padding: 12px;">PEG</td>
                            <td style="padding: 12px;">S√∫p c√° xay nhuy·ªÖn + rau c·∫£i</td>
                            <td style="padding: 12px; text-align: center;">320</td>
                            <td style="padding: 12px; text-align: center;">18</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><strong>4. Chi·ªÅu</strong> (14-15h)</td>
                            <td style="padding: 12px;">U·ªëng mi·ªáng</td>
                            <td style="padding: 12px;">S·ªØa (230 kcal)</td>
                            <td style="padding: 12px; text-align: center;">230</td>
                            <td style="padding: 12px; text-align: center;">8</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 12px;"><strong>5. T·ªëi</strong> (17-18h)</td>
                            <td style="padding: 12px;">U·ªëng mi·ªáng</td>
                            <td style="padding: 12px;">N∆∞·ªõc tr√°i c√¢y pha lo√£ng (200ml)</td>
                            <td style="padding: 12px; text-align: center;">100</td>
                            <td style="padding: 12px; text-align: center;">0</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px;"><strong>6. T·ªëi mu·ªôn</strong> (19-20h)</td>
                            <td style="padding: 12px;">PEG</td>
                            <td style="padding: 12px;">S√∫p c∆°m g√† xay + tr·ª©ng n·∫•u m·ªÅm</td>
                            <td style="padding: 12px; text-align: center;">350</td>
                            <td style="padding: 12px; text-align: center;">20</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h2>üìù K·∫æT LU·∫¨N & KHUY·∫æN C√ÅO CH√çNH</h2>

            <div class="highlight-box">
                <h3>‚úÖ Nh·ªØng ƒêi·ªÉm T√≠ch C·ª±c</h3>
                <ul style="margin-left: 20px;">
                    <li>Ch·∫ø ƒë·ªô ƒÉn ·ªïn ƒë·ªãnh, kh√¥ng bi·∫øn ƒë·ªông qu√° l·ªõn</li>
                    <li>Protein ƒë·ªß, Vitamin C & K r·∫•t t·ªët</li>
                    <li>X∆° t·ªët, h·ªó tr·ª£ ti√™u h√≥a</li>
                    <li>Kh√¥ng c√≥ ng√†y n√†o calo qu√° th·∫•p</li>
                </ul>
            </div>

            <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); color: #333; padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h3 style="color: #e65100; margin-bottom: 15px;">‚ö†Ô∏è Nh·ªØng ƒêi·ªÉm C·∫ßn C·∫£i Thi·ªán</h3>
                <ul style="margin-left: 20px;">
                    <li><strong>Gi·∫£m Ch·∫•t B√©o:</strong> T·ª´ 84.7g ‚Üí 70-75g/ng√†y (gi·∫£m ch·∫•t b√©o b√£o h√≤a)</li>
                    <li><strong>TƒÉng Vitamin D:</strong> T·ª´ 422.8 IU ‚Üí 600-800 IU/ng√†y</li>
                    <li><strong>Ki·ªÉm So√°t Sodium:</strong> Duy tr√¨ ‚â§ 1500 mg/ng√†y</li>
                    <li><strong>Ki·ªÉm Tra B12 & Folate:</strong> B·ªánh nh√¢n PEG d·ªÖ thi·∫øu</li>
                </ul>
            </div>

            <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); color: #333; padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h3 style="color: #2e7d32; margin-bottom: 15px;">üéØ H√†nh ƒê·ªông Ngay</h3>
                <ul style="margin-left: 20px;">
                    <li><strong>Ngay L·∫≠p T·ª©c:</strong> Thay s·ªØa nguy√™n kem b·∫±ng s·ªØa 1-2% b√©o, gi·∫£m d·∫ßu m·ª°, tƒÉng c√°</li>
                    <li><strong>Tu·∫ßn T·ªõi:</strong> X√©t nghi·ªám Vitamin B12, Folate, Vitamin D</li>
                    <li><strong>H√†ng Th√°ng:</strong> Ki·ªÉm tra c√¢n, ƒëi·ªÅu ch·ªânh th·ª±c ph·∫©m</li>
                    <li><strong>H√†ng 2-3 Th√°ng:</strong> T√°i ƒë√°nh gi√° ch·∫ø ƒë·ªô ƒÉn</li>
                </ul>
            </div>
        </div>

        <footer class="footer">
            <p>Dashboard Ph√¢n T√≠ch Dinh D∆∞·ª°ng - Th√°ng 10/2025</p>
            <p>¬© B√°o C√°o D√†nh Cho B·ªánh Nh√¢n Nam 28 Tu·ªïi - ƒÇn Qua Sond PEG</p>
        </footer>
    </div>

    <script>
        // Chart Colors
        const colors = {
            primary: '#667eea',
            secondary: '#764ba2',
            success: '#28a745',
            warning: '#ffc107',
            danger: '#dc3545',
            light: '#e9ecef',
            grid: '#f0f0f0'
        };

        // Data
        const daily_dates = ["01/10", "02/10", "03/10", "04/10", "05/10", "06/10", "07/10", "08/10", "09/10", "10/10", "11/10", "12/10", "13/10", "14/10", "15/10", "16/10", "17/10", "18/10", "19/10", "20/10", "21/10", "22/10", "23/10", "24/10", "25/10", "26/10", "27/10", "28/10", "29/10", "30/10", "31/10"];
        const daily_energy = [1849.6, 1742.9, 1855.8, 1980.3, 1819.4, 1896.0, 1860.5, 1856.8, 1906.1, 1894.7, 2005.0, 1964.2, 1904.6, 1799.7, 1853.6, 1854.0, 1867.1, 1776.4, 1779.7, 1834.9, 1898.7, 1894.0, 1892.6, 1919.2, 1768.6, 1849.6, 1895.8, 1872.9, 1868.6, 1840.2, 1842.4];
        const daily_protein = [94.9, 71.7, 82.5, 96.7, 81.7, 95.9, 82.9, 94.7, 82.7, 81.6, 100.8, 85.5, 95.2, 84.1, 96.9, 87.0, 98.2, 83.5, 82.2, 76.7, 97.7, 82.6, 75.5, 94.6, 82.9, 86.7, 93.6, 87.8, 91.9, 90.8, 93.7];
        const daily_fat = [76.4, 78.1, 82.1, 84.9, 87.4, 84.3, 82.1, 82.4, 82.7, 86.3, 92.7, 90.7, 87.1, 84.3, 84.4, 84.7, 85.0, 71.7, 71.8, 92.5, 81.7, 89.0, 92.5, 87.0, 86.0, 86.2, 89.1, 86.0, 89.4, 82.3, 84.9];
        const daily_carbs = [209.1, 200.7, 206.7, 222.7, 189.3, 201.1, 213.5, 198.5, 227.3, 216.1, 205.5, 218.5, 198.6, 194.6, 191.1, 203.9, 192.0, 215.7, 213.4, 190.1, 208.9, 205.0, 211.1, 205.6, 182.3, 202.2, 198.9, 206.7, 193.1, 199.6, 195.8];
        const daily_fiber = [29.7, 26.5, 24.0, 32.6, 27.3, 28.6, 27.1, 28.3, 32.6, 30.2, 27.0, 25.9, 29.3, 26.7, 25.9, 29.3, 26.4, 28.9, 31.5, 29.1, 33.9, 30.4, 35.7, 31.5, 28.7, 33.3, 31.7, 32.9, 32.4, 33.3, 31.6];

        // Chart 1: Daily Energy
        const energyCtx = document.getElementById('energyChart').getContext('2d');
        new Chart(energyCtx, {
            type: 'line',
            data: {
                labels: daily_dates,
                datasets: [
                    {
                        label: 'NƒÉng L∆∞·ª£ng Th·ª±c T·∫ø (kcal)',
                        data: daily_energy,
                        borderColor: colors.primary,
                        backgroundColor: colors.primary + '15',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true,
                        pointRadius: 3,
                        pointBackgroundColor: colors.primary,
                        pointHoverRadius: 6
                    },
                    {
                        label: 'M·ª•c Ti√™u (kcal)',
                        data: Array(31).fill(1700),
                        borderColor: colors.danger,
                        borderWidth: 2,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {font: {size: 12, weight: 'bold'}}
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 1600,
                        max: 2100,
                        grid: {color: colors.grid},
                        ticks: {callback: v => v + ' kcal'}
                    },
                    x: {grid: {display: false}}
                }
            }
        });

        // Chart 2: Macro Pie - Actual
        const macroPieActualCtx = document.getElementById('macroChartActual').getContext('2d');
        new Chart(macroPieActualCtx, {
            type: 'doughnut',
            data: {
                labels: ['Protein 18.9%', 'Ch·∫•t B√©o 40.8%', 'Carbs 43.7%'],
                datasets: [{
                    data: [18.9, 40.8, 43.7],
                    backgroundColor: [colors.primary, colors.secondary, colors.warning],
                    borderColor: 'white',
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {font: {size: 12}, padding: 20}
                    }
                }
            }
        });

        // Chart 3: Macro Pie - Goal
        const macroPieGoalCtx = document.getElementById('macroChartGoal').getContext('2d');
        new Chart(macroPieGoalCtx, {
            type: 'doughnut',
            data: {
                labels: ['Protein 18.2%', 'Ch·∫•t B√©o 35.6%', 'Carbs 46.2%'],
                datasets: [{
                    data: [18.2, 35.6, 46.2],
                    backgroundColor: [colors.primary, colors.secondary, colors.warning],
                    borderColor: 'white',
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {font: {size: 12}, padding: 20}
                    }
                }
            }
        });

        // Chart 4: Protein
        const proteinCtx = document.getElementById('proteinChart').getContext('2d');
        new Chart(proteinCtx, {
            type: 'bar',
            data: {
                labels: daily_dates,
                datasets: [
                    {
                        label: 'Th·ª±c T·∫ø',
                        data: daily_protein,
                        backgroundColor: colors.primary,
                        borderRadius: 5
                    },
                    {
                        label: 'M·ª•c Ti√™u',
                        data: Array(31).fill(75),
                        backgroundColor: colors.light,
                        borderColor: colors.danger,
                        borderWidth: 2,
                        borderRadius: 5
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {legend: {position: 'top', labels: {font: {size: 12, weight: 'bold'}}}},
                scales: {y: {beginAtZero: true, ticks: {callback: v => v + 'g'}}}
            }
        });

        // Chart 5: Fat
        const fatCtx = document.getElementById('fatChart').getContext('2d');
        new Chart(fatCtx, {
            type: 'bar',
            data: {
                labels: daily_dates,
                datasets: [
                    {
                        label: 'Th·ª±c T·∫ø',
                        data: daily_fat,
                        backgroundColor: colors.secondary,
                        borderRadius: 5
                    },
                    {
                        label: 'M·ª•c Ti√™u',
                        data: Array(31).fill(65),
                        backgroundColor: colors.light,
                        borderColor: colors.danger,
                        borderWidth: 2,
                        borderRadius: 5
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {legend: {position: 'top', labels: {font: {size: 12, weight: 'bold'}}}},
                scales: {y: {beginAtZero: true, ticks: {callback: v => v + 'g'}}}
            }
        });

        // Chart 6: Carbs & Fiber
        const carbsCtx = document.getElementById('carbsChart').getContext('2d');
        new Chart(carbsCtx, {
            type: 'line',
            data: {
                labels: daily_dates,
                datasets: [
                    {
                        label: 'Carbohydrate (g)',
                        data: daily_carbs,
                        borderColor: colors.warning,
                        backgroundColor: colors.warning + '15',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true,
                        pointRadius: 3,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Ch·∫•t X∆° (g)',
                        data: daily_fiber,
                        borderColor: colors.success,
                        borderWidth: 2,
                        tension: 0.4,
                        fill: false,
                        pointRadius: 3,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {legend: {position: 'top', labels: {font: {size: 12, weight: 'bold'}}}},
                scales: {
                    y: {
                        type: 'linear',
                        position: 'left',
                        title: {display: true, text: 'Carbohydrate (g)'},
                        beginAtZero: true
                    },
                    y1: {
                        type: 'linear',
                        position: 'right',
                        title: {display: true, text: 'Ch·∫•t X∆° (g)'},
                        beginAtZero: true,
                        grid: {drawOnChartArea: false}
                    }
                }
            }
        });
    </script>
</body>
</html>
